Error: [Errno 22] Invalid argument: 'Error: [Errno 22] Invalid argument: \'"""Demo Collaborative Learning - Test sistema apprendimento collaborativo."""\\n\\nimport time\\nimport random\\nfrom typing import Dict, List, Tuple\\nfrom tools.collaborative_learning import (\\n    CollaborativeLearningEnvironment,\\n    LearningAgent,\\n    SharedKnowledgeBase,\\n    Experience,\\n    ExperienceType,\\n)\\n\\n\\ndef demo_basic_learning() -> None:\\n    """Demo 1: Apprendimento base singolo agente"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 1: BASIC LEARNING")\\n    print("=" * 80)\\n\\n    # Create agent\\n    agent: LearningAgent = LearningAgent("learner_1", initial_skills=["code", "test"])\\n\\n    print(f"\\n[*] Agent: {agent.id}")\\n    print(f"   Initial skills: {list(agent.skills.keys())}")\\n    \\n    # Practice skills\\n    print("\\n[*] Practicing skills...")\\n    for i in range(5):\\n        success: bool = random.random() < 0.7\\n        exp: Experience = Experience(\\n            id=f"exp_{i}",\\n            agent_id=agent.id,\\n            timestamp=time.time(),\\n            experience_type=ExperienceType.SUCCESS if success else ExperienceType.FAILURE,\\n            context={\\\'iteration\\\': i},\\n            action=\\\'code_implement\\\',\\n            result=\\\'completed\\\' if success else \\\'failed\\\',\\n            reward=1.0 if success else 0.0\\n        )\\n        agent.learn_from_experience(exp)\\n    \\n    print("\\n[OK] Learning results:")\\n    print(f"   Total experiences: {len(agent.experiences)}")\\n    print(f"   Successful: {agent.stats[\\\'successful_actions\\\']}")\\n    print(f"   Failed: {agent.stats[\\\'failed_actions\\\']}")\\n    \\n    # Show skills\\n    print("\\n[*] Skills proficiency:")\\n    for skill_name, skill in agent.skills.items():\\n        print(f"   {skill_name}: {skill.proficiency:.2f} ({skill.practice_count} practices)")\\n\\n\\ndef demo_agent_observation() -> None:\\n    """Demo 2: Apprendimento per osservazione"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 2: LEARNING BY OBSERVATION")\\n    print("=" * 80)\\n\\n    # Create two agents\\n    expert: LearningAgent = LearningAgent("expert", initial_skills=["code", "test", "design"])\\n    novice: LearningAgent = LearningAgent("novice", initial_skills=["test"])\\n    \\n    # Improve expert skills\\n    for skill in expert.skills.values():\\n        for _ in range(10):\\n            skill.improve(success=True)\\n\\n    print(f"\\n[*] Expert skills:")\\n    for skill_name, skill in expert.skills.items():\\n        print(f"   {skill_name}: {skill.proficiency:.2f}")\\n    \\n    print(f"\\n[*] Novice initial skills:")\\n    for skill_name in novice.skills.keys():\\n        print(f"   {skill_name}: {novice.skills[skill_name].proficiency:.2f}")\\n    \\n    # Novice observes expert\\n    print("\\n[*] Novice observing expert...")\\n    observations: int = 0\\n    learned_skills: List[str] = []\\n    \\n    for _ in range(10):\\n        action: str = random.choice([\\\'code_feature\\\', \\\'test_validation\\\', \\\'design_ui\\\'])\\n        success: bool = random.random() < 0.8\\n        result: str = "completed" if success else "failed"\\n        \\n        learned = novice.observe_agent(expert, action, result, success)\\n        if learned:\\n            observations += 1\\n            learned_skill = action.split(\\\'_\\\')[0]\\n            if learned_skill not in learned_skills:\\n                learned_skills.append(learned_skill)\\n    \\n    print(f"\\n[OK] Observation results:")\\n    print(f"   Observations: {observations}")\\n    print(f"   New skills learned: {len(learned_skills)}")\\n    \\n    print(f"\\n[*] Novice skills after observation:")\\n    for skill_name, skill in novice.skills.items():\\n        source = f"(from {skill.learned_from[0]})" if skill.learned_from else ""\\n        print(f"   {skill_name}: {skill.proficiency:.2f} {source}")\\n\\n\\ndef demo_teaching() -> None:\\n    """Demo 3: Insegnamento tra agenti"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 3: TEACHING & KNOWLEDGE TRANSFER")\\n    print("=" * 80)\\n\\n    env: CollaborativeLearningEnvironment = CollaborativeLearningEnvironment("TeachingLab")\\n\\n    # Create teacher and student\\n    teacher: LearningAgent = env.create_agent("teacher", ["code", "test", "design", "optimize"])\\n    student: LearningAgent = env.create_agent("student", ["test"])\\n    \\n    # Improve teacher skills\\n    for skill in teacher.skills.values():\\n        for _ in range(15):\\n            skill.improve(success=True)\\n    \\n    print(f"\\n[*] Teacher skills (before teaching):")\\n    for skill_name, skill in teacher.skills.items():\\n        print(f"   {skill_name}: {skill.proficiency:.2f}")\\n    \\n    print(f"\\n[*] Student skills (before learning):")\\n    for skill_name, skill in student.skills.items():\\n        print(f"   {skill_name}: {skill.proficiency:.2f}")\\n    \\n    # Teaching sessions\\n    print("\\n[*] Teaching sessions...")\\n    skills_to_teach = ["code", "design", "optimize"]\\n    \\n    for topic in skills_to_teach:\\n        success = env.facilitate_teaching("teacher", "student", topic)\\n        status = "✓" if success else "✗"\\n        print(f"   [{status}] Teaching {topic}")\\n    \\n    print(f"\\n[OK] Student skills (after learning):")\\n    for skill_name, skill in student.skills.items():\\n        source = f"← {skill.learned_from[0]}" if skill.learned_from else ""\\n        print(f"   {skill_name}: {skill.proficiency:.2f} {source}")\\n    \\n    print(f"\\n[*] Statistics:")\\n    print(f"   Teacher - Knowledge shared: {teacher.stats[\\\'knowledge_shared\\\']}")\\n    print(f"   Student - Skills learned: {student.stats[\\\'skills_learned\\\']}")\\n    print(f"   Environment - Teaching events: {env.stats[\\\'teaching_events\\\']}")\\n\\n\\ndef demo_collaboration() -> None:\\n    """Demo 4: Collaborazione tra agenti"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 4: AGENT COLLABORATION")\\n    print("=" * 80)\\n\\n    env: CollaborativeLearningEnvironment = CollaborativeLearningEnvironment("CollabLab")\\n\\n    # Create agents with complementary skills\\n    backend: LearningAgent = env.create_agent("backend_dev", ["code", "optimize", "test"])\\n    frontend: LearningAgent = env.create_agent("frontend_dev", ["design", "code", "test"])\\n    \\n    print(f"\\n[*] Agent skills:")\\n    print(f"   Backend: {list(backend.skills.keys())}")\\n    print(f"   Frontend: {list(frontend.skills.keys())}")\\n    \\n    # Collaboration tasks\\n    print("\\n[*] Collaborative tasks:")\\n    tasks: List[str] = [\\n        "code_api_integration",\\n        "design_user_interface",\\n        "test_e2e_scenarios",\\n        "optimize_performance"\\n    ]\\n    \\n    successes: int = 0\\n    for i, task in enumerate(tasks, 1):\\n        success, result = env.facilitate_collaboration("backend_dev", "frontend_dev", task)\\n        status = "✓ SUCCESS" if success else "✗ FAILURE"\\n        print(f"   Task {i}: {task}")\\n        print(f"      [{status}] {result}")\\n        if success:\\n            successes += 1\\n    \\n    print(f"\\n[OK] Collaboration results:")\\n    print(f"   Success rate: {successes}\\{len(tasks)} ({successes\\len(tasks)*100:.0f}%)")\\n    print(f"   Backend collaborations: {backend.stats[\\\'collaborations\\\']}")\\n    print(f"   Frontend collaborations: {frontend.stats[\\\'collaborations\\\']}")\\n\\n\\ndef demo_shared_knowledge() -> None:\\n    """Demo 5: Shared knowledge base"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 5: SHARED KNOWLEDGE BASE")\\n    print("=" * 80)\\n\\n    kb: SharedKnowledgeBase = SharedKnowledgeBase()\\n\\n    # Multiple agents contribute knowledge\\n    print("\\n[*] Agents contributing knowledge...")\\n    \\n    contributions = [\\n        ("agent_1", "Python best practices: Use type hints", "coding", 0.8),\\n        ("agent_2", "Testing strategy: Write tests first", "testing", 0.7),\\n        ("agent_3", "Design pattern: Observer pattern for events", "design", 0.9),\\n        ("agent_1", "Optimization: Use caching for expensive calls", "optimization", 0.8),\\n        ("agent_2", "Security: Always validate user input", "security", 0.95)\\n    ]\\n    \\n    for agent_id, content, category, confidence in contributions:\\n        kb.add_knowledge(agent_id, content, category, confidence)\\n        print(f"   ✓ {agent_id} → {category}: {content[:40]}...")\\n    \\n    print(f"\\n[*] Knowledge base stats:")\\n    stats = kb.get_stats()\\n    print(f"   Total items: {stats[\\\'total_items\\\']}")\\n    print(f"   Categories: {stats[\\\'categories\\\']}")\\n    print(f"   Top contributors: {stats[\\\'top_contributors\\\']}")\\n    \\n    # Query knowledge\\n    print("\\n[*] Querying knowledge (min confidence 0.8):")\\n    results = kb.query_knowledge(min_confidence=0.8)\\n    for item in results[:3]:\\n        print(f"   - {item.category}: {item.content}")\\n        print(f"     Confidence: {item.confidence:.2f}, Votes: {item.votes}")\\n    \\n    # Voting\\n    print("\\n[*] Voting on knowledge...")\\n    for knowledge_id in list(kb.knowledge.keys())[:3]:\\n        kb.vote_knowledge(knowledge_id, positive=True)\\n    \\n    print(f"\\n[OK] Knowledge sharing demonstrated")\\n\\n\\ndef demo_multi_agent_learning() -> None:\\n    """Demo 6: Apprendimento multi-agente"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 6: MULTI-AGENT LEARNING ENVIRONMENT")\\n    print("=" * 80)\\n\\n    env: CollaborativeLearningEnvironment = CollaborativeLearningEnvironment("MultiAgentLab")\\n\\n    # Create diverse team\\n    print("\\n[*] Creating agent team...")\\n    agents_config: List[Tuple[str, List[str]]] = [\\n        ("developer_1", ["code", "test"]),\\n        ("developer_2", ["code", "optimize"]),\\n        ("designer_1", ["design", "test"]),\\n        ("tester_1", ["test", "analyze"]),\\n        ("analyst_1", ["analyze", "optimize"])\\n    ]\\n    \\n    for agent_id, skills in agents_config:\\n        env.create_agent(agent_id, skills)\\n        print(f"   ✓ Created {agent_id} with skills: {skills}")\\n    \\n    # Initial skill levels\\n    print("\\n[*] Initial skill distribution:")\\n    for agent_id, agent in env.agents.items():\\n        print(f"   {agent_id}: {len(agent.skills)} skills")\\n    \\n    # Run collaborative session\\n    print("\\n[*] Running collaborative learning session (50 interactions)...")\\n    env.run_collaborative_session(num_interactions=50)\\n    \\n    # Results\\n    print(f"\\n[OK] Session results:")\\n    stats = env.get_environment_stats()\\n    print(f"   Total interactions: {stats[\\\'environment_stats\\\'][\\\'total_interactions\\\']}")\\n    print(f"   Successful collaborations: {stats[\\\'environment_stats\\\'][\\\'successful_collaborations\\\']}")\\n    print(f"   Teaching events: {stats[\\\'environment_stats\\\'][\\\'teaching_events\\\']}")\\n    print(f"   Observations: {stats[\\\'environment_stats\\\'][\\\'observations\\\']}")\\n    \\n    # Learning progress\\n    print("\\n[*] Learning progress:")\\n    progress = env.get_learning_progress()\\n    for agent_id, metrics in progress.items():\\n        print(f"   {agent_id}:")\\n        print(f"      Skills: {metrics[\\\'total_skills\\\']}")\\n        print(f"      Avg proficiency: {metrics[\\\'avg_proficiency\\\']:.2f}")\\n        print(f"      Success rate: {metrics[\\\'success_rate\\\']:.2f}")\\n\\n\\ndef demo_knowledge_export_import() -> None:\\n    """Demo 7: Export\\import conoscenza"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 7: KNOWLEDGE EXPORT & IMPORT")\\n    print("=" * 80)\\n\\n    # Create expert agent\\n    expert: LearningAgent = LearningAgent("expert", ["code", "test", "design", "optimize"])\\n\\n    # Train expert\\n    print("\\n[*] Training expert agent...")\\n    for skill in expert.skills.values():\\n        for _ in range(20):\\n            skill.improve(success=True)\\n    \\n    # Add experiences\\n    for i in range(10):\\n        exp = Experience(\\n            id=f"exp_{i}",\\n            agent_id=expert.id,\\n            timestamp=time.time(),\\n            experience_type=ExperienceType.SUCCESS,\\n            context={\\\'task\\\': f\\\'task_{i}\\\'},\\n            action=\\\'code_implement\\\',\\n            result=\\\'success\\\',\\n            reward=1.0\\n        )\\n        expert.learn_from_experience(exp)\\n    \\n    print(f"   ✓ Expert trained with {len(expert.skills)} skills")\\n    \\n    # Export knowledge\\n    print("\\n[*] Exporting expert knowledge...")\\n    knowledge = expert.export_knowledge()\\n    \\n    print(f"   ✓ Exported:")\\n    print(f"      Skills: {len(knowledge[\\\'skills\\\'])}")\\n    print(f"      Experiences: {len(knowledge[\\\'experiences\\\'])}")\\n    print(f"      Stats: {knowledge[\\\'stats\\\']}")\\n    \\n    # Create novice and import knowledge\\n    novice: LearningAgent = LearningAgent("novice", ["test"])\\n    \\n    print(f"\\n[*] Novice before import:")\\n    print(f"   Skills: {list(novice.skills.keys())}")\\n    \\n    print("\\n[*] Importing knowledge (trust factor 0.7)...")\\n    novice.import_knowledge(knowledge, trust_factor=0.7)\\n    \\n    print(f"\\n[OK] Novice after import:")\\n    for skill_name, skill in novice.skills.items():\\n        source = f"← {skill.learned_from[0]}" if skill.learned_from else ""\\n        print(f"   {skill_name}: {skill.proficiency:.2f} {source}")\\n\\n\\ndef demo_skill_improvement() -> None:\\n    """Demo 8: Miglioramento skills con pratica"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 8: SKILL IMPROVEMENT THROUGH PRACTICE")\\n    print("=" * 80)\\n\\n    agent = LearningAgent("practitioner", ["code"])\\n\\n    print(f"\\n[*] Initial proficiency: {agent.skills[\\\'code\\\'].proficiency:.3f}")\\n    \\n    print("\\n[*] Practice sessions:")\\n    sessions: List[Tuple[int, float, str]] = [\\n        (10, 0.8, "Good practice"),\\n        (10, 0.5, "Challenging tasks"),\\n        (10, 0.9, "Mastery practice")\\n    ]\\n    \\n    for session_num, (iterations, success_rate, description) in enumerate(sessions, 1):\\n        print(f"\\n   Session {session_num}: {description} (success rate: {success_rate:.0%})")\\n        \\n        for i in range(iterations):\\n            success = random.random() < success_rate\\n            agent.skills[\\\'code\\\'].improve(success)\\n        \\n        skill = agent.skills[\\\'code\\\']\\n        print(f"      Proficiency: {skill.proficiency:.3f}")\\n        print(f"      Practice count: {skill.practice_count}")\\n        print(f"      Success rate: {skill.success_rate:.3f}")\\n    \\n    print(f"\\n[OK] Final proficiency: {agent.skills[\\\'code\\\'].proficiency:.3f}")\\n    print(f"   Total practice: {agent.skills[\\\'code\\\'].practice_count} iterations")\\n\\n\\ndef demo_peer_learning() -> None:\\n    """Demo 9: Peer learning network"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 9: PEER LEARNING NETWORK")\\n    print("=" * 80)\\n\\n    env: CollaborativeLearningEnvironment = CollaborativeLearningEnvironment("PeerNetwork")\\n\\n    # Create peer network\\n    print("\\n[*] Creating peer learning network...")\\n    peers: List[LearningAgent] = []\\n    for i in range(5):\\n        skills = random.sample(["code", "test", "design", "analyze", "optimize"], 2)\\n        agent = env.create_agent(f"peer_{i+1}", skills)\\n        peers.append(agent)\\n        print(f"   ✓ peer_{i+1}: {skills}")\\n    \\n    # Peer teaching rounds\\n    print("\\n[*] Peer teaching rounds...")\\n    teaching_pairs: List[Tuple[str, str]] = [\\n        ("peer_1", "peer_2"),\\n        ("peer_2", "peer_3"),\\n        ("peer_3", "peer_4"),\\n        ("peer_4", "peer_5"),\\n        ("peer_5", "peer_1")\\n    ]\\n    \\n    for teacher_id, student_id in teaching_pairs:\\n        teacher = env.agents[teacher_id]\\n        if teacher.skills:\\n            selected_skill = random.choice(list(teacher.skills.keys()))\\n            success = env.facilitate_teaching(teacher_id, student_id, selected_skill)\\n            status = "✓" if success else "✗"\\n            print(f"   [{status}] {teacher_id} → {student_id}: {selected_skill}")\\n    \\n    # Show learning outcomes\\n    print("\\n[OK] Learning outcomes:")\\n    for agent_id, agent in env.agents.items():\\n        taught_by = set()\\n        for skill in agent.skills.values():\\n            if skill.learned_from:\\n                taught_by.update(skill.learned_from)\\n        \\n        print(f"   {agent_id}:")\\n        print(f"      Skills: {len(agent.skills)}")\\n        print(f"      Learned from: {len(taught_by)} peers")\\n\\n\\ndef demo_collaborative_problem_solving() -> None:\\n    """Demo 10: Risoluzione collaborativa problemi"""\\n    print("\\n" + "=" * 80)\\n    print("DEMO 10: COLLABORATIVE PROBLEM SOLVING")\\n    print("=" * 80)\\n\\n    env: CollaborativeLearningEnvironment = CollaborativeLearningEnvironment("ProblemSolvers")\\n\\n    # Create specialized agents\\n    print("\\n[*] Creating specialized problem solvers...")\\n    specialists: Dict[str, List[str]] = {\\n        "architect": ["design", "code"],\\n        "developer": ["code", "test"],\\n        "tester": ["test", "analyze"],\\n        "optimizer": ["optimize", "analyze"]\\n    }\\n    \\n    for agent_id, skills in specialists.items():\\n        env.create_agent(agent_id, skills)\\n        print(f"   ✓ {agent_id}: {skills}")\\n    \\n    # Complex problem requiring multiple skills\\n    print("\\n[*] Solving complex problem (requires multiple specialists)...")\\n    \\n    problem_phases: List[Tuple[str, str, str]] = [\\n        ("architect", "developer", "design_system"),\\n        ("developer", "tester", "code_implementation"),\\n        ("tester", "optimizer", "test_performance"),\\n        ("optimizer", "architect", "optimize_architecture")\\n    ]\\n    \\n    successes: int = 0\\n    for phase_num, (agent1, agent2, task) in enumerate(problem_phases, 1):\\n        print(f"\\n   Phase {phase_num}: {task}")\\n        print(f"      Collaboration: {agent1} + {agent2}")\\n        \\n        success, result = env.facilitate_collaboration(agent1, agent2, task)\\n        status = "✓ SUCCESS" if success else "✗ FAILURE"\\n        print(f"      [{status}] {result}")\\n        \\n        if success:\\n            successes += 1\\n            # Share knowledge\\n            env.share_agent_knowledge(agent1)\\n            env.share_agent_knowledge(agent2)\\n    \\n    # Distribute learned knowledge\\n    print("\\n[*] Distributing learned knowledge...")\\n    env.distribute_knowledge(trust_factor=0.7)\\n    \\n    print(f"\\n[OK] Problem solving results:")\\n    print(f"   Phases completed: {successes}\\{len(problem_phases)}")\\n    print(f"   Knowledge items shared: {env.shared_knowledge.get_stats()[\\\'total_items\\\']}")\\n    \\n    # Final skills\\n    print("\\n[*] Skills after collaboration:")\\n    for agent_id, agent in env.agents.items():\\n        print(f"   {agent_id}: {len(agent.skills)} skills (was {len(specialists[agent_id])})")\\n\\n\\ndef main() -> None:\\n    """Main demo - tutte le funzionalità"""\\n    \\n    print("\\n" + "=" * 80)\\n    print("SUPER AGENT - COLLABORATIVE LEARNING DEMO")\\n    print("Advanced Multi-Agent Learning System")\\n    print("=" * 80)\\n    \\n    # Run all demos\\n    demo_basic_learning()\\n    demo_agent_observation()\\n    demo_teaching()\\n    demo_collaboration()\\n    demo_shared_knowledge()\\n    demo_multi_agent_learning()\\n    demo_knowledge_export_import()\\n    demo_skill_improvement()\\n    demo_peer_learning()\\n    demo_collaborative_problem_solving()\\n    \\n    # Summary\\n    print("\\n" + "=" * 80)\\n    print("DEMO COMPLETED!")\\n    print("=" * 80)\\n    \\n    print("\\n[OK] COLLABORATIVE LEARNING FEATURES:")\\n    print("   [OK] Basic Learning (experience-based improvement)")\\n    print("   [OK] Learning by Observation (imitation learning)")\\n    print("   [OK] Teaching & Knowledge Transfer (70% proficiency transfer)")\\n    print("   [OK] Agent Collaboration (combined skills, bonus multiplier)")\\n    print("   [OK] Shared Knowledge Base (voting, validation)")\\n    print("   [OK] Multi-Agent Environment (50+ interactions)")\\n    print("   [OK] Knowledge Export\\Import (trust-based transfer)")\\n    print("   [OK] Skill Improvement (practice-based learning)")\\n    print("   [OK] Peer Learning Network (circular teaching)")\\n    print("   [OK] Collaborative Problem Solving (multi-phase projects)")\\n    \\n    print("\\n[OK] LEARNING CAPABILITIES:")\\n    print("   • 6 learning strategies: Imitation, Reinforcement, Collaborative, etc.")\\n    print("   • 5 experience types: Success, Failure, Partial, Observation, Teaching")\\n    print("   • Skill proficiency tracking (0.0 - 1.0)")\\n    print("   • Success rate calculation")\\n    print("   • Practice-based improvement")\\n    print("   • Knowledge base with voting system")\\n    \\n    print("\\n[OK] AGENT INTERACTIONS:")\\n    print("   • Observe other agents (imitation learning)")\\n    print("   • Teach skills to others (knowledge transfer)")\\n    print("   • Collaborate on tasks (combined expertise)")\\n    print("   • Share knowledge globally")\\n    print("   • Import\\export expertise")\\n    print("   • Vote on knowledge quality")\\n    \\n    print("\\n[OK] ENVIRONMENT FEATURES:")\\n    print("   • Facilitate teaching between agents")\\n    print("   • Coordinate collaboration")\\n    print("   • Manage observation sessions")\\n    print("   • Shared knowledge repository")\\n    print("   • Interaction history tracking")\\n    print("   • Learning progress monitoring")\\n    \\n    print("\\n[OK] SKILL SYSTEM:")\\n    print("   • Dynamic skill proficiency (improves with practice)")\\n    print("   • Success rate tracking")\\n    print("   • Practice count monitoring")\\n    print("   • Source attribution (learned from)")\\n    print("   • Last used timestamp")\\n    print("   • Automatic improvement algorithms")\\n    \\n    print("\\n[OK] KNOWLEDGE SHARING:")\\n    print("   • Shared knowledge base")\\n    print("   • Category organization")\\n    print("   • Confidence scoring")\\n    print("   • Community voting")\\n    print("   • Validation system")\\n    print("   • Contribution tracking")\\n    \\n    print("\\n[OK] Collaborative Learning System is PRODUCTION READY!")\\n\\n\\nif __name__ == "__main__":\\n    main()\\n\''